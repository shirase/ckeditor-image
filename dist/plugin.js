!function(){function e(e,t){if(!t){t=e.getSelection().getSelectedElement()}if(t&&t.is("img")&&!t.data("cke-realelement")&&!t.isReadOnly())return t}function t(e){var t=e.getStyle("float");return"inherit"!=t&&"none"!=t||(t=0),t||(t=e.getAttribute("align")),t}CKEDITOR.plugins.add("image-uf",{requires:"dialog",lang:"af,ar,az,bg,bn,bs,ca,cs,cy,da,de,de-ch,el,en,en-au,en-ca,en-gb,eo,es,et,eu,fa,fi,fo,fr,fr-ca,gl,gu,he,hi,hr,hu,id,is,it,ja,ka,km,ko,ku,lt,lv,mk,mn,ms,nb,nl,no,oc,pl,pt,pt-br,ro,ru,si,sk,sl,sq,sr,sr-latn,sv,th,tr,tt,ug,uk,vi,zh,zh-cn",icons:"image",hidpi:!0,init:function(t){if(!t.plugins.image2){CKEDITOR.dialog.add("image-uf",this.path+"dialogs/image.js");var i="img[alt,!src]{border-style,border-width,float,height,margin,margin-bottom,margin-left,margin-right,margin-top,width}";CKEDITOR.dialog.isTabEnabled(t,"image-uf","advanced")&&(i="img[alt,dir,id,lang,longdesc,!src,title]{*}(*)"),t.addCommand("image-uf",new CKEDITOR.dialogCommand("image-uf",{allowedContent:i,requiredContent:"img[alt,src]",contentTransformations:[["img{width}: sizeToStyle","img[width]: sizeToAttribute"],["img{float}: alignmentToStyle","img[align]: alignmentToAttribute"]]})),t.ui.addButton&&t.ui.addButton("image-uf",{label:t.lang.common.image,command:"image-uf",toolbar:"insert,10",icon:this.path+"icons/image.png"}),t.on("doubleclick",function(e){var t=e.data.element;!t.is("img")||t.data("cke-realelement")||t.isReadOnly()||(e.data.dialog="image")}),t.addMenuItems&&t.addMenuItems({image:{label:t.lang.image.menu,command:"image",group:"image"}}),t.contextMenu&&t.contextMenu.addListener(function(i){if(e(t,i))return{image:CKEDITOR.TRISTATE_OFF}})}},afterInit:function(i){function a(a){var n=i.getCommand("justify"+a);n&&("left"!=a&&"right"!=a||n.on("exec",function(n){var g,o=e(i);o&&(g=t(o),g==a?(o.removeStyle("float"),a==t(o)&&o.removeAttribute("align")):o.setStyle("float",a),n.cancel())}),n.on("refresh",function(n){var g,o=e(i);o&&(g=t(o),this.setState(g==a?CKEDITOR.TRISTATE_ON:"right"==a||"left"==a?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED),n.cancel())}))}i.plugins.image2||(a("left"),a("right"),a("center"),a("block"))}})}(),CKEDITOR.config.image_removeLinkByEmptyURL=!0;
//# sourceMappingURL=plugin.js.map
